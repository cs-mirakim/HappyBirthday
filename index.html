<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes"
    />
    <title>Happy Birthday Nurul Farhana</title>
    <link rel="icon" href="https://fav.farm/üéâ" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.youtube.com/iframe_api"></script>
    <style>
      /* Fonts: Playfair Display untuk nama (elegan) + Inter untuk body + fallback */
      @import url("https://fonts.googleapis.com/css2?family=Inter:opsz@14..32&family=Playfair+Display:wght@400;700;900&display=swap");

      * {
        font-family: "Inter", sans-serif;
        scroll-behavior: smooth;
      }
      body {
        margin: 0;
        overflow-x: hidden;
        background-color: #fbf7f0;
        background-image: radial-gradient(
          circle at 10% 20%,
          rgba(215, 185, 150, 0.15) 0%,
          transparent 40%
        );
      }

      /* ===== SNOW CANVAS (lebih jelas & tebal) ===== */
      #snow-canvas {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        pointer-events: none;
        z-index: 10;
        opacity: 1;
      }

      /* ===== CARD 3D (konsisten semua) ===== */
      .card-inner {
        transition: transform 0.7s cubic-bezier(0.2, 0.9, 0.3, 1.1);
        transform-style: preserve-3d;
        position: relative;
        width: 100%;
        height: 100%;
        cursor: pointer;
      }

      .card-flipped .card-inner {
        transform: rotateY(180deg);
      }

      .card-front,
      .card-back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        border-radius: 1.8rem;
        padding: 1.8rem;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        box-shadow: 0 15px 30px -8px rgba(0, 0, 0, 0.08);
      }

      .card-front {
        background: linear-gradient(145deg, #f3e9de 0%, #e6d7c2 100%);
        border: 1px solid rgba(196, 159, 117, 0.25);
      }

      .card-back {
        background: white;
        transform: rotateY(180deg);
        border: 1px solid #e2d5c0;
        color: #3c2a1f;
        text-align: center;
        font-size: 0.98rem;
        line-height: 1.7;
        font-family: "Inter", sans-serif;
        font-weight: 400;
      }

      /* Mobile adjustments untuk card back text */
      @media (max-width: 640px) {
        .card-back {
          font-size: 0.88rem;
          padding: 1.5rem;
          line-height: 1.65;
        }
      }

      /* fokus mode */
      .card-container {
        perspective: 1800px;
        aspect-ratio: 1/1;
        width: 100%;
        max-width: 300px;
        margin: 0 auto 15rem;
        transition:
          opacity 0.7s ease-out,
          filter 0.7s ease-out,
          transform 0.7s ease-out;
        opacity: 0.15;
        filter: blur(12px);
        transform: scale(0.88);
      }

      /* Mobile: kurangkan margin spacing antara cards */
      @media (max-width: 640px) {
        .card-container {
          margin: 0 auto 5rem;
          max-width: 280px;
        }
      }

      .card-container.is-focused {
        opacity: 1;
        filter: blur(0);
        transform: scale(1);
      }

      /* ===== PLAYER FLOATING (sama tapi lebih premium) ===== */
      .player-container {
        position: fixed;
        top: 1.5rem;
        left: 50%;
        transform: translateX(-50%);
        width: calc(100% - 3rem);
        max-width: 400px;
        z-index: 60;
        background: rgba(255, 255, 255, 0.75);
        backdrop-filter: blur(16px);
        border: 1px solid rgba(196, 159, 117, 0.25);
        box-shadow: 0 15px 35px -10px rgba(0, 0, 0, 0.12);
        border-radius: 40px;
        padding: 0.9rem 1.3rem;
      }

      /* Mobile: smaller player */
      @media (max-width: 640px) {
        .player-container {
          top: 1rem;
          width: calc(100% - 2rem);
          padding: 0.75rem 1rem;
          border-radius: 30px;
        }
      }

      .progress-bar {
        height: 5px;
        background: #e2d5c0;
        border-radius: 10px;
        overflow: hidden;
      }
      .progress-current {
        height: 100%;
        background: #b28952;
        width: 0%;
        transition: width 0.2s;
      }

      /* ===== NAMA SUPER ELEGAN (Playfair Display, gradient, melebar) ===== */
      .name-playfair-bold {
        font-family: "Playfair Display", serif;
        font-weight: 900;
        letter-spacing: 0.3em;
        text-transform: uppercase;
        background: linear-gradient(145deg, #4f3b28, #7b5f41, #5a3f25);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        font-size: clamp(1.8rem, 7vw, 2.5rem);
        line-height: 1.2;
        display: inline-block;
        width: 100%;
        text-shadow: 0 2px 10px rgba(150, 100, 50, 0.15);
      }

      /* Mobile: smaller letter spacing untuk nama */
      @media (max-width: 640px) {
        .name-playfair-bold {
          letter-spacing: 0.15em;
          font-size: clamp(1.3rem, 6vw, 1.8rem);
        }
      }

      .name-playfair-light {
        font-family: "Playfair Display", serif;
        font-weight: 400;
        font-style: normal;
        letter-spacing: 0.2em;
        font-size: 0.9rem;
        color: #856f56;
        text-transform: uppercase;
        background: transparent;
        -webkit-text-fill-color: #856f56;
      }

      /* Mobile: adjust subtitle */
      @media (max-width: 640px) {
        .name-playfair-light {
          font-size: 0.7rem;
          letter-spacing: 0.1em;
          line-height: 1.5;
        }
      }

      /* date badge */
      .date-badge-simple {
        font-size: 0.7rem;
        font-weight: 600;
        letter-spacing: 0.2em;
        color: #856b4b;
        background: rgba(235, 220, 200, 0.4);
        backdrop-filter: blur(4px);
        padding: 0.4rem 1.2rem;
        border-radius: 60px;
        display: inline-block;
        border: 1px solid #dccbb6;
      }

      /* Mobile: smaller badge */
      @media (max-width: 640px) {
        .date-badge-simple {
          font-size: 0.6rem;
          padding: 0.35rem 1rem;
          letter-spacing: 0.15em;
        }
      }

      /* billy wish */
      .billy-glass {
        background: rgba(255, 250, 240, 0.7);
        backdrop-filter: blur(10px);
        border: 1px solid #e2cfb8;
        border-radius: 60px;
        padding: 0.5rem 2rem;
        font-weight: 400;
        color: #624d38;
        box-shadow: 0 6px 14px rgba(0, 0, 0, 0.02);
        font-size: 0.8rem;
      }

      /* Mobile: smaller billy badge */
      @media (max-width: 640px) {
        .billy-glass {
          font-size: 0.7rem;
          padding: 0.4rem 1.5rem;
        }
      }

      /* Header spacing untuk mobile */
      .header-section {
        margin-bottom: 4rem;
        margin-top: 7rem;
      }

      @media (max-width: 640px) {
        .header-section {
          margin-bottom: 3rem;
          margin-top: 6rem;
        }
      }

      /* Emoji sizing */
      .emoji-header {
        font-size: 3rem;
      }

      @media (max-width: 640px) {
        .emoji-header {
          font-size: 2.5rem;
        }
      }

      /* ===== SPLASH SCREEN STYLES ===== */
      #splash-screen {
        position: fixed;
        inset: 0;
        width: 100%;
        height: 100%;
        background-color: #fbf7f0; /* warna asal */
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        z-index: 100; /* Paling atas */
        transition:
          opacity 1s ease,
          visibility 1s;
      }

      .splash-content {
        text-align: center;
        animation: splashPulse 2s infinite ease-in-out;
      }

      @keyframes splashPulse {
        0%,
        100% {
          transform: scale(1);
          opacity: 0.8;
        }
        50% {
          transform: scale(1.05);
          opacity: 1;
        }
      }

      #countdown-number {
        font-family: "Playfair Display", serif;
        font-size: 5rem;
        font-weight: 900;
        color: #4f3b28;
        margin-top: 1rem;
      }

      .splash-hidden {
        opacity: 0;
        visibility: hidden;
        pointer-events: none;
      }
    </style>
  </head>
  <body class="min-h-screen flex flex-col items-center p-5 pb-12">
    <div id="splash-screen">
      <div class="splash-content">
        <h2
          id="splash-title"
          class="name-playfair-light"
          style="letter-spacing: 0.4em"
        >
          PREPARING SURPRISE
        </h2>

        <div id="countdown-number">5</div>

        <p
          id="splash-sub"
          class="text-[9px] text-amber-800/40 uppercase tracking-[0.3em] mt-6"
        >
          Loading special moments...
        </p>
      </div>
    </div>

    <!-- Snow canvas (lebih jelas) -->
    <canvas id="snow-canvas"></canvas>

    <!-- Music Player (floating) -->
    <div class="player-container flex items-center gap-3">
      <div id="player" class="hidden"></div>
      <button
        id="playBtn"
        class="bg-amber-800 text-white w-11 h-11 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all flex-shrink-0"
      >
        <span id="playIcon" class="text-lg">‚ñ∂Ô∏è</span>
      </button>
      <div class="flex-1 min-w-0">
        <p
          class="text-[8px] text-amber-800/70 font-bold uppercase tracking-widest mb-1 truncate"
        >
          ‚ú¶ BOLEH TEKAN SEBELUM BACA KAD ‚ú¶
        </p>
        <div class="progress-bar mb-1">
          <div class="progress-current" id="progressBar"></div>
        </div>
        <div class="flex justify-between text-[9px] text-amber-700 font-mono">
          <span id="currTime">0:00</span>
          <span id="totalTime">0:00</span>
        </div>
      </div>
      <button
        id="replayBtn"
        class="text-white w-11 h-11 rounded-full bg-amber-800 backdrop-blur flex items-center justify-center text-lg shadow hover:scale-110 transition-all flex-shrink-0"
      >
        üîÑ
      </button>
    </div>

    <!-- Header dengan Nama baru (lawa gradient) -->
    <div class="text-center header-section relative z-20 px-4">
      <div class="flex items-center justify-center gap-3 sm:gap-4 mb-5 sm:mb-6">
        <span class="emoji-header drop-shadow">‚òïÔ∏è</span>
        <span class="emoji-header drop-shadow">ü•≥</span>
        <span class="emoji-header drop-shadow">üê®</span>
      </div>

      <!-- NAMA GAYA BARU (gradient lebar) -->
      <h1 class="name-playfair-bold">NURUL FARHANA</h1>
      <div class="name-playfair-light mt-1 px-2">
        BINTI MUHAMMAD ABDUL WAHID
      </div>

      <div class="date-badge-simple mt-5">
        16.02.2004 ‚Äì 16.02.2026 ‚ú¶ 22 TAHUN
      </div>
    </div>

    <!-- Cards (semua kad guna font back yang konsisten) -->
    <div
      class="w-full max-w-sm mx-auto flex flex-col items-center relative z-20 px-4"
    >
      <!-- 1 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-7xl opacity-70">.</span>
            <span
              class="text-[10px] text-amber-700/50 uppercase tracking-[0.3em]"
              >klik kad ‚Üí</span
            >
          </div>
          <div class="card-back">
            <p>
              üòÇüòÇüòÇ... macam biasa kalau nak chat kau mesti aku letak tanda
              titik '.' je dulu...
            </p>
          </div>
        </div>
      </div>
      <!-- 2 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-6xl">üéâ</span>
            <span
              class="text-xs font-bold text-amber-800 uppercase tracking-widest"
              >Selamat Hari Lahir</span
            >
          </div>
          <div class="card-back">
            <p>
              Selamat Hari Lahir Farhana... ü•≥üéâüíê... Pejam celik, pejam celik
              tak sangka dah 10 tahun dah rupanya aku berkawan dengan kau sejak
              Form 1
            </p>
          </div>
        </div>
      </div>
      <!-- 3 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-6xl">‚ú®</span>
            <span
              class="text-xs font-bold text-amber-800 uppercase tracking-widest"
              >Hajat & Doa</span
            >
          </div>
          <div class="card-back">
            <p>
              Semoga apa-apa saja hajat kau tahun ni dipermudah untuk kau
              capai... Aku doakan yang baik-baik untuk kau...
            </p>
          </div>
        </div>
      </div>
      <!-- 4 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-6xl">üí¨</span>
            <span
              class="text-xs font-bold text-amber-800 uppercase tracking-widest"
              >Terima Kasih</span
            >
          </div>
          <div class="card-back">
            <p>
              Terima kasih sebab selalu sudi sembang dengan aku walau kadang
              topik aku tak best pun...
            </p>
          </div>
        </div>
      </div>
      <!-- 5 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-6xl">‚è™</span>
            <span
              class="text-xs font-bold text-amber-800 uppercase tracking-widest"
              >Throwback</span
            >
          </div>
          <div class="card-back">
            <p>
              Aku teringat lagi tahun lepas yang kau bawa aku pergi event
              perfume pastu balik sampai tengah malam tu... Tu pengalaman yang
              aku tak boleh lupa langsung sebab aku memang tak expect pun benda
              tu jadi... Saja je throwback sikit... Aku cuma nak kata terima
              kasih sebab selalu buat baik dekat aku
            </p>
          </div>
        </div>
      </div>
      <!-- 6 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-6xl">üåô</span>
            <span
              class="text-xs font-bold text-amber-800 uppercase tracking-widest"
              >Ramadan</span
            >
          </div>
          <div class="card-back">
            <p>
              Tarikh harini pun dah nak dekat dengan Ramadan... Moga Ramadan kau
              tahun ni lebih bermakna dan dapat beribadah dengan lebih sempurna.
            </p>
          </div>
        </div>
      </div>
      <!-- 7 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-6xl">‚òÅÔ∏è</span>
            <span
              class="text-xs font-bold text-amber-800 uppercase tracking-widest"
              >Passing Clouds</span
            >
          </div>
          <div class="card-back">
            <p>
              Semoga tahun ni kalau ada ujian yang menyedihkan hati... kau ada
              kekuatan dalam hati untuk hadap semua tu dan kalau rasa berat
              sangat ujian tu... Ingat yang semua tu macam 'Passing Clouds'
              je... Semoga ujian tu ada hasil yang indah kemudiannya
            </p>
          </div>
        </div>
      </div>
      <!-- 8 -->
      <div class="card-container">
        <div
          class="card-inner"
          onclick="this.parentElement.classList.toggle('card-flipped')"
        >
          <div class="card-front flex-col gap-2">
            <span class="text-6xl">ü§≤üèª</span>
            <span
              class="text-xs font-bold text-amber-800 uppercase tracking-widest"
              >Akhir Kata</span
            >
          </div>
          <div class="card-back">
            <p>
              Semoga tahun ni lebih baik untuk kau... aku harap aku dapat doakan
              kau selalu dalam doa dan sedekah Al Fatihah aku.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- footer -->
    <div class="mt-8 flex flex-col items-center gap-4 relative z-20 px-4">
      <div class="billy-glass text-center">
        <span>üê® Billy Billy pun wish selamat hari lahir! üê®</span>
      </div>
      <div
        class="text-amber-800/40 text-[9px] font-bold tracking-[0.5em] uppercase mb-12 text-center"
      >
        ‚ú¶ Daripada Amir Hakim ‚ú¶
      </div>
    </div>

    <script>
      // YouTube player
      let player;
      function onYouTubeIframeAPIReady() {
        player = new YT.Player("player", {
          height: "0",
          width: "0",
          videoId: "3IPuZHV6hnM",
          playerVars: {
            autoplay: 0,
            controls: 0,
            loop: 1,
            playlist: "3IPuZHV6hnM",
          },
          events: { onReady: onPlayerReady },
        });
      }

      function onPlayerReady() {
        const playBtn = document.getElementById("playBtn");
        const playIcon = document.getElementById("playIcon");
        playBtn.addEventListener("click", () => {
          if (player.getPlayerState() == YT.PlayerState.PLAYING) {
            player.pauseVideo();
            playIcon.innerText = "‚ñ∂Ô∏è";
          } else {
            player.playVideo();
            playIcon.innerText = "‚è∏Ô∏è";
          }
        });
        document.getElementById("replayBtn").addEventListener("click", () => {
          player.seekTo(0);
          player.playVideo();
          playIcon.innerText = "‚è∏Ô∏è";
        });
        setInterval(() => {
          if (player && player.getCurrentTime) {
            const curr = player.getCurrentTime();
            const total = player.getDuration();
            document.getElementById("progressBar").style.width =
              (curr / total) * 100 + "%";
            document.getElementById("currTime").innerText = formatTime(curr);
            document.getElementById("totalTime").innerText = formatTime(total);
          }
        }, 500);
      }
      function formatTime(t) {
        if (!isFinite(t)) return "0:00";
        const m = Math.floor(t / 60),
          s = Math.floor(t % 60);
        return m + ":" + (s < 10 ? "0" : "") + s;
      }

      // SNOW CANVAS (lebih jelas: lebih banyak partikel, warna putih solid, opacity tinggi)
      const canvas = document.getElementById("snow-canvas");
      const ctx = canvas.getContext("2d");
      let width,
        height,
        snowflakes = [];
      let mouseX = -1000,
        mouseY = -1000;

      function initSnow() {
        width = canvas.width = window.innerWidth;
        height = canvas.height = window.innerHeight;
        snowflakes = Array.from({ length: 120 }, () => ({
          x: Math.random() * width,
          y: Math.random() * height,
          r: Math.random() * 4 + 1.5,
          v: Math.random() * 1.2 + 0.4,
          w: Math.random() * 0.02 + 0.004,
          phase: Math.random() * Math.PI * 2,
        }));
      }

      function drawSnow() {
        ctx.clearRect(0, 0, width, height);
        ctx.fillStyle = "rgba(255, 255, 255, 0.95)";
        ctx.beginPath();
        snowflakes.forEach((s) => {
          s.y += s.v;
          s.x += Math.sin(Date.now() * s.w + s.phase) * 0.15;

          // interaksi mouse (halus)
          let dx = s.x - mouseX,
            dy = s.y - mouseY;
          let dist = Math.sqrt(dx * dx + dy * dy);
          if (dist < 100) {
            s.x += (dx / 20) * (1 - dist / 120);
            s.y += (dy / 20) * (1 - dist / 120);
          }

          if (s.y > height + 20) {
            s.y = -15;
            s.x = Math.random() * width;
          }
          if (s.x < -20) s.x = width + 20;
          if (s.x > width + 20) s.x = -20;

          ctx.moveTo(s.x, s.y);
          ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
        });
        ctx.fill();
        requestAnimationFrame(drawSnow);
      }

      window.addEventListener("mousemove", (e) => {
        mouseX = e.clientX;
        mouseY = e.clientY;
      });
      window.addEventListener("touchmove", (e) => {
        if (e.touches[0]) {
          mouseX = e.touches[0].clientX;
          mouseY = e.touches[0].clientY;
        }
      });
      window.addEventListener("resize", initSnow);
      initSnow();
      drawSnow();

      // Observer untuk focus mode (sama macam asal)
      const observer = new IntersectionObserver(
        (entries) => {
          entries.forEach((entry) => {
            if (entry.isIntersecting) entry.target.classList.add("is-focused");
            else entry.target.classList.remove("is-focused");
          });
        },
        { rootMargin: "-30% 0px -30% 0px", threshold: 0.1 },
      );
      document
        .querySelectorAll(".card-container")
        .forEach((card) => observer.observe(card));

      // Function untuk Countdown Splash Screen (5 Saat)
      function startCountdown() {
        const splash = document.getElementById("splash-screen");
        const countText = document.getElementById("countdown-number");
        const splashTitle = document.getElementById("splash-title");
        const splashSub = document.getElementById("splash-sub");

        let timeLeft = 5;

        const timer = setInterval(() => {
          timeLeft--;

          if (timeLeft > 0) {
            countText.innerText = timeLeft;
          } else if (timeLeft === 0) {
            // Hilangkan elemen lain
            splashTitle.style.display = "none";
            splashSub.style.display = "none";

            // Tukar nombor kepada ENJOY
            countText.innerText = "ENJOY";
            countText.style.fontSize = "clamp(2rem, 8vw, 3.5rem)";
            countText.style.letterSpacing = "0.2em";
            countText.style.fontFamily = "'Playfair Display', serif";
          } else {
            clearInterval(timer);
            splash.classList.add("splash-hidden"); // Fade out keseluruhan screen
          }
        }, 1000);
      }

      // Jalankan countdown bila page dah load
      window.addEventListener("load", startCountdown);
    </script>
  </body>
</html>
